<!doctype html>
<html lang="zh-Hant">
<head>
  <!-- =====================================================
       基本文件與網站設定
       ===================================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>鹿🦌的QA網站</title>
  <meta name="theme-color" content="#0f1220" />

  <!-- 網站圖示 -->
  <link rel="icon" type="image/png" href="網站頂端icon.JPG">

  <!-- 全站樣式 -->
  <link rel="stylesheet" href="styles.css?v=20251009-super" />
</head>

<body>

<!-- =====================================================
     全頁初始化載入遮罩
     - 僅於首次進站或重大初始化時顯示
     - 防止畫面尚未完成初始化即被操作
     ===================================================== -->
<div id="page-loading"
     role="status"
     aria-live="polite"
     aria-busy="true">

  <div class="card">
    <div class="spinner">
      <img src="轉圈圈.png"
           alt="載入中"
           class="loading-img">
    </div>
    <div class="title">網頁載入中，請稍候…</div>
    <div class="muted" style="font-size:.9rem">
      正在準備資料與介面
    </div>
  </div>
</div>

<!-- =====================================================
     簡易公告與更新紀錄 Modal
     ===================================================== -->
<div id="changelog" class="modal hidden"
     role="dialog"
     aria-modal="true"
     aria-labelledby="cg-title">

  <div class="modal-card">
    <div class="modal-header">
      <h2 id="cg-title">🦌 網站更新</h2>
      <button id="cg-close" class="btn ghost">
        我知道了，關閉視窗❌
      </button>
    </div>
    <div class="modal-body" id="cg-body"></div>
  </div>
</div>

<div id="ann-modal" class="modal hidden"
     role="dialog"
     aria-modal="true"
     aria-labelledby="ann-title">

  <div class="modal-card">
    <div class="modal-header">
      <h2 id="ann-title">網站公告</h2>
      <button id="ann-close" class="btn ghost">
        ❌關閉公告
      </button>
    </div>
    <div class="modal-body" id="ann-body"></div>
  </div>
</div>

<!-- =====================================================
     全站錯誤提示橫幅
     - 用於資源 404 / JS runtime error
     ===================================================== -->
<div id="errbar"
     class="errbar hidden"
     role="status"
     aria-live="assertive"></div>

<!-- =====================================================
     頂部導覽區
     ===================================================== -->
<header class="hero">

  <!-- 品牌識別 -->
  <div class="brand">
    <img id="logo-img"
         src="Logo.png"
         class="logo-img"
         alt="鹿 Logo"
         draggable="false" />

    <div>
      <h1>鹿🦌的QA網站</h1>
      <p class="muted">
        查詢資料庫與觀看影片與特效。若有錯誤，請回報工程師。
      </p>
    </div>
  </div>

  <!-- 全站快捷操作 -->
  <div class="top-actions">
    <button id="site-bell"
            class="btn ghost icon"
            aria-label="公告">
      🔔 <span class="muted" style="font-size:.9rem">公告</span>
    </button>

    <button id="site-share"
            class="btn icon share-top"
            aria-label="分享網站">
      分享
    </button>

    <a id="contact-eng"
       class="btn ghost icon"
       href="mailto:wanglien214@gmail.com"
       aria-label="聯絡工程師">
      📧 <span class="muted" style="font-size:.9rem">聯絡工程師</span>
    </a>
  </div>

  <!-- 主功能分頁 -->
  <nav class="tabs"
       role="tablist"
       aria-label="主要功能">

    <button id="tab-qa"
            class="tab active"
            role="tab"
            aria-selected="true"
            aria-controls="qa-panel">
      QA
    </button>

    <button id="tab-video"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="video-panel">
      影片
    </button>

    <button id="tab-effect"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="effect-panel">
      特效
    </button>
  </nav>

  <!-- QA 搜尋工具列 -->
  <div id="qa-toolbar" class="search-wrap">
    <input id="search"
           class="input"
           type="search"
           placeholder="輸入關鍵字（傳統比對）"
           aria-label="搜尋 QA" />
    <button id="clear" class="btn ghost">清除</button>
  </div>

  <!-- QA 統計資訊 -->
  <div class="stats" id="qa-stats">
    <div class="stat">
      <span id="stat-total" class="value">0</span>
      <span class="label">總筆數</span>
    </div>
    <div class="stat">
      <span id="stat-page" class="value">1</span>
      <span class="label">目前頁</span>
    </div>
    <div class="stat">
      <span id="stat-pages" class="value">1</span>
      <span class="label">總頁數</span>
    </div>
    <div class="stat">
      <span id="stat-filtered" class="value">0</span>
      <span class="label">目前篩選</span>
    </div>
  </div>
</header>

<!-- =====================================================
     主內容區（QA / 影片 / 特效）
     ===================================================== -->
<main class="container">
  <!-- QA -->
  <section id="qa-panel"
           class="tabpanel"
           role="tabpanel"
           aria-labelledby="tab-qa">

    <section id="qa-list" class="accordion"></section>

    <nav class="pager" aria-label="分頁導覽">
      <button id="prev" class="btn">上一頁</button>
      <input id="page"
             class="page-input"
             type="text"
             inputmode="numeric"
             value="1"
             aria-label="跳至頁碼">
      <span class="slash">/</span>
      <span id="pages" class="pages-badge">1</span>
      <button id="next" class="btn">下一頁</button>
    </nav>
  </section>

  <!-- 影片 -->
  <section id="video-panel"
           class="tabpanel hidden"
           role="tabpanel"
           aria-labelledby="tab-video">

    <div class="video-layout">
      <div class="video-left">
        <div class="video-controls top">
          <button id="v-random" class="btn">隨機影片</button>
        </div>

        <div class="video-header">
          <span id="v-title" class="video-title">未選擇影片</span>
          <button id="v-info-btn"
                  class="info-btn"
                  title="影片資訊">
            ℹ️
          </button>
        </div>

        <div id="v-frame" class="video-frame"></div>
      </div>

      <div class="video-right" id="v-list"></div>
    </div>
  </section>

  <!-- 特效 -->
  <section id="effect-panel"
           class="tabpanel hidden"
           role="tabpanel"
           aria-labelledby="tab-effect">

    <div class="effect-pro">
      <div class="effect-phone">
        <div class="phone-bezel">
          <div class="phone-notch"></div>
          <div class="phone-screen">
            <img id="effect-demo"
                 alt="特效示範預覽"
                 class="phone-preview" />
          </div>
        </div>
        <p class="muted effect-caption">
          特效圖片有經過鹿🦌同意，才上架的～
        </p>
      </div>

      <aside class="effect-side card">
        <header class="side-head">
          <h3 id="effect-title" class="side-title">TikTok 特效</h3>
          <div class="side-actions">
            <button id="effect-play" class="btn primary">
              立即體驗
            </button>
            <a id="effect-open-new"
               class="btn ghost"
               target="_blank"
               rel="noopener">
              新分頁開啟
            </a>
          </div>
        </header>

        <div class="side-body">
          <ul class="bullets">
            <li>掃描 QR 或按「立即體驗」開啟 TikTok 特效</li>
            <li>建議使用手機直式錄製</li>
          </ul>

          <div class="qr-wrap">
            <img id="effect-qr"
                 alt="掃描開啟特效"
                 class="qr-img" />
            <div class="qr-meta">
              <div class="label">預覽連結（TikTok）</div>
              <code id="effect-url-copy"></code>
              <button id="copy-effect-url"
                      class="btn ghost">
                複製連結
              </button>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </section>
</main>

<!-- =====================================================
     外部功能腳本（順序不可隨意調換）
     ===================================================== -->
<script src="data.js"></script>
<script src="botData.js"></script>
<script src="deer-qa.js"></script>
<script src="qa-accordion-fix.js"></script>
<script src="deer-video-min.js"></script>
<script src="deer-videos.js"></script>
<script src="ai.js"></script>
<script src="app.js"></script>

</body>
</html>
