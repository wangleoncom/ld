<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¹¿ QA | èº«åˆ†é©—è­‰ä¸­</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #020617; /* æ·±è—é»‘ */
            color: white;
            user-select: none; /* é˜²æ­¢é•·æŒ‰æ™‚é¸å–åˆ°æ–‡å­— */
            -webkit-user-select: none;
        }

        #canvas-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* --- ç»ç’ƒæ“¬æ…‹å¡ç‰‡ --- */
        .glass-panel {
            background: rgba(15, 23, 42, 0.65);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(34, 211, 238, 0.2);
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.9);
            position: relative;
            z-index: 10;
        }

        /* --- é¹¿é ­åƒ --- */
        .avatar-frame {
            width: 100px;
            height: 100px;
            margin: 0 auto;
            border-radius: 50%;
            padding: 3px;
            background: linear-gradient(180deg, #ec4899, #8b5cf6); /* ç²‰ç´…åˆ°ç´« */
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.4);
        }
        
        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid #0f172a;
            background-color: #0f172a;
        }

        /* --- æŒ‡ç´‹æƒæå€ --- */
        .scanner-wrapper {
            position: relative;
            width: 140px;
            height: 140px;
            margin: 30px auto;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .scanner-wrapper:active {
            transform: scale(0.95);
        }

        /* æŒ‡ç´‹ SVG */
        .fingerprint-icon {
            fill: rgba(255, 255, 255, 0.15);
            filter: drop-shadow(0 0 2px rgba(255,255,255,0.1));
            transition: fill 0.3s, filter 0.3s;
        }

        /* æƒææ™‚çš„ç‹€æ…‹ */
        .is-scanning .fingerprint-icon {
            fill: #22d3ee; /* é’è‰² */
            filter: drop-shadow(0 0 15px rgba(34, 211, 238, 0.8));
            animation: pulse-light 1s infinite alternate;
        }

        /* æˆåŠŸæ™‚çš„ç‹€æ…‹ */
        .is-success .fingerprint-icon {
            fill: #10b981; /* ç¶ è‰² */
            filter: drop-shadow(0 0 20px rgba(16, 185, 129, 1));
        }

        /* æƒæå…‰æŸ */
        .scan-beam {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #22d3ee;
            box-shadow: 0 0 10px #22d3ee, 0 0 20px #22d3ee;
            opacity: 0;
            pointer-events: none;
        }

        .is-scanning .scan-beam {
            opacity: 1;
            animation: scan-move 1.2s linear infinite;
        }

        /* --- åœ“å½¢é€²åº¦æ¢ SVG --- */
        .progress-ring {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 160px;
            height: 160px;
            transform: rotate(-90deg);
            pointer-events: none;
        }
        
        .progress-ring-circle {
            fill: none;
            stroke: #22d3ee;
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 440; /* åœ“å‘¨é•· */
            stroke-dashoffset: 440; /* åˆå§‹éš±è— */
            transition: stroke-dashoffset 0.1s linear;
        }

        .is-success .progress-ring-circle {
            stroke: #10b981; /* è®Šç¶  */
        }

        /* --- æŒ‰éˆ•æ¨£å¼ --- */
        .skip-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            transition: all 0.3s;
        }
        .skip-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-color: white;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        /* --- å‹•ç•«å®šç¾© --- */
        @keyframes scan-move {
            0% { top: 5%; opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { top: 95%; opacity: 0; }
        }

        @keyframes pulse-light {
            from { filter: drop-shadow(0 0 10px rgba(34, 211, 238, 0.5)); }
            to { filter: drop-shadow(0 0 20px rgba(34, 211, 238, 1)); }
        }

        /* æ–‡å­—é–ƒçˆ */
        .blink { animation: blinker 1.5s linear infinite; }
        @keyframes blinker { 50% { opacity: 0.3; } }

    </style>
</head>
<body class="flex items-center justify-center h-screen">

    <canvas id="canvas-bg"></canvas>

    <div class="glass-panel w-full max-w-sm p-8 rounded-3xl text-center mx-4 flex flex-col items-center">
        
        <div class="avatar-frame mb-4 relative z-20">
            <img src="./icon.png" 
                 onerror="this.src='https://ui-avatars.com/api/?name=Deer&background=0D8ABC&color=fff&size=128'" 
                 alt="Deer Icon" 
                 class="avatar-img">
        </div>

        <h1 class="text-2xl font-black text-white mb-1 tracking-wider">é¹¿ğŸ¦Œçš„QAç¶²ç«™</h1>
        <p class="text-pink-400 text-sm font-bold tracking-widest mb-6">ç³»çµ±å‡ç´š 2026</p>

        <div class="h-px w-full bg-gradient-to-r from-transparent via-gray-500 to-transparent mb-4"></div>

        <p class="text-gray-300 text-sm mb-2" id="instruction">é•·æŒ‰æŒ‡ç´‹é©—è­‰ã€Œéº‹é¹¿ã€èº«åˆ†</p>

        <div id="scanner" class="scanner-wrapper">
            <svg class="progress-ring">
                <circle class="progress-ring-circle" cx="80" cy="80" r="70" id="progress-circle"></circle>
            </svg>

            <div class="scan-beam"></div>
            
            <svg class="fingerprint-icon w-full h-full" viewBox="0 0 24 24">
                <path d="M17.81,4.43c-2.43-1.89-5.74-2.18-8.23-1.42c-0.5,0.15-0.79,0.68-0.64,1.18c0.15,0.5,0.68,0.79,1.18,0.64
                    c2.06-0.63,4.72-0.4,6.67,1.11c0.42,0.32,1.02,0.25,1.35-0.17C18.46,5.36,18.39,4.75,17.81,4.43z M12,22c-0.55,0-1-0.45-1-1
                    c0-2.45-1.02-3.32-1.92-4.08c-0.84-0.72-1.58-1.35-1.58-2.92c0-2.48,2.02-4.5,4.5-4.5s4.5,2.02,4.5,4.5c0,0.55,0.45,1,1,1
                    s1-0.45,1-1c0-3.58-2.92-6.5-6.5-6.5s-6.5,2.92-6.5,6.5c0,2.38,1.13,3.35,2.15,4.21C8.03,18.61,8.5,19.01,8.5,20
                    c0,0.55-0.45,1-1,1s-1-0.45-1-1c0-2.02-1.02-2.89-1.92-3.65C3.74,15.65,3,15.02,3,13.5c0-4.96,4.04-9,9-9s9,4.04,9,9
                    c0,0.55,0.45,1,1,1s1-0.45,1-1C23,8.04,18.06,3.5,12,3.5S1,8.04,1,13.5c0,2.48,1.13,3.45,2.15,4.31C4.03,18.71,4.5,19.11,4.5,20.1
                    c0,1.3,0.84,2.4,2,2.82c0.3,0.11,0.6,0.16,0.9,0.16c0.82,0,1.59-0.36,2.1-0.98c0.34-0.42,0.28-1.04-0.14-1.38
                    c-0.42-0.34-1.04-0.28-1.38,0.14C7.81,21.08,7.6,21.13,7.45,21.07c-0.26-0.09-0.45-0.34-0.45-0.63c0-0.51-0.24-0.72-0.49-0.93
                    c-0.01-0.01-0.02-0.02-0.03-0.03C5.62,18.74,5,18.21,5,16.5c0-0.55,0.45-1,1-1s1,0.45,1,1c0,0.66,0.24,0.87,0.49,1.08
                    c0.01,0.01,0.02,0.02,0.03,0.03c0.86,0.73,1.48,1.26,1.48,2.39c0,0.55,0.45,1,1,1s1-0.45,1-1c0-0.51-0.24-0.72-0.49-0.93
                    c-0.01-0.01-0.02-0.02-0.03-0.03C9.62,18.24,9,17.71,9,16c0-0.55,0.45-1,1-1s1,0.45,1,1c0,0.66,0.24,0.87,0.49,1.08
                    c0.01,0.01,0.02,0.02,0.03,0.03c0.86,0.73,1.48,1.26,1.48,2.39c0,0.55,0.45,1,1,1s1-0.45,1-1c0-1.65-2.02-3-4.5-3
                    s-4.5,1.35-4.5,3c0,0.55,0.45,1,1,1s1-0.45,1-1c0-0.55,1.12-1,2.5-1s2.5,0.45,2.5,1c0,0.55,0.45,1,1,1S13,22.55,13,22
                    C13,22,12.55,22,12,22z"/>
            </svg>
        </div>

        <p id="status-text" class="text-cyan-400 font-mono font-bold text-lg h-6 mb-8 tracking-widest blink">ç­‰å¾…é©—è­‰...</p>

        <button onclick="goToNewSite()" 
           class="skip-btn w-full py-3 rounded-xl text-sm tracking-widest cursor-pointer hover:bg-white/10">
            [ è·³éä¸¦ç›´æ¥é€²å…¥ ]
        </button>
    </div>

    <script>
        const NEW_URL = "https://wangleoncom.github.io/ldweb";
        
        // --- æŒ‡ç´‹è¾¨è­˜é‚è¼¯ ---
        const scanner = document.getElementById('scanner');
        const progressCircle = document.getElementById('progress-circle');
        const statusText = document.getElementById('status-text');
        const instruction = document.getElementById('instruction');

        // åœ“å‘¨é•· = 2 * PI * R (70) ~= 440
        const circumference = 440;
        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset = circumference;

        let progress = 0;
        let animationFrame;
        let isHolding = false;

        function startScan(e) {
            e.preventDefault(); // é˜²æ­¢æ‰‹æ©Ÿä¸Šå‡ºç¾é¸å–®
            isHolding = true;
            scanner.classList.add('is-scanning');
            statusText.innerText = "é©—è­‰éº‹é¹¿èº«åˆ†ä¸­...";
            statusText.classList.remove('blink');
            instruction.style.opacity = '0.5';

            // æ‰‹æ©Ÿéœ‡å‹•å›é¥‹ (å¦‚æœè£ç½®æ”¯æ´)
            if (navigator.vibrate) navigator.vibrate(50);

            // é–‹å§‹è·‘é€²åº¦
            tick();
        }

        function stopScan() {
            isHolding = false;
            cancelAnimationFrame(animationFrame);
            
            // å¦‚æœé‚„æ²’å®Œæˆå°±æ”¾é–‹ï¼Œé‡ç½®
            if (progress < 100) {
                scanner.classList.remove('is-scanning');
                statusText.innerText = "é©—è­‰å¤±æ•—ï¼Œè«‹é‡æ–°æŒ‰å£“";
                statusText.classList.add('blink');
                statusText.style.color = "#ef4444"; // ç´…è‰²
                instruction.style.opacity = '1';
                
                // æ…¢æ…¢é€€å›é€²åº¦
                const resetInterval = setInterval(() => {
                    progress -= 5;
                    if (progress <= 0) {
                        progress = 0;
                        statusText.innerText = "ç­‰å¾…é©—è­‰...";
                        statusText.style.color = "#22d3ee"; // å›å¾©é’è‰²
                        clearInterval(resetInterval);
                    }
                    updateCircle(progress);
                }, 10);
            }
        }

        function tick() {
            if (!isHolding) return;

            progress += 1.5; // èª¿æ•´é€™å€‹æ•¸å­—å¯ä»¥æ”¹è®Šæƒæé€Ÿåº¦
            
            // éš¨æ©Ÿéœ‡å‹•æ•ˆæœ (æ¨¡æ“¬æƒæé›œè¨Š)
            if (navigator.vibrate && Math.random() > 0.7) navigator.vibrate(10);

            if (progress >= 100) {
                progress = 100;
                scanComplete();
            } else {
                updateCircle(progress);
                animationFrame = requestAnimationFrame(tick);
            }
        }

        function updateCircle(percent) {
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            // æ ¹æ“šé€²åº¦é¡¯ç¤ºç™¾åˆ†æ¯”
            if(isHolding) statusText.innerText = `èº«åˆ†åˆ†æ: ${Math.floor(percent)}%`;
        }

        function scanComplete() {
            isHolding = false; // é–å®šç‹€æ…‹
            scanner.classList.remove('is-scanning');
            scanner.classList.add('is-success');
            statusText.innerText = "é©—è­‰é€šéï¼šéº‹é¹¿ç¢ºèª";
            statusText.style.color = "#10b981"; // ç¶ è‰²
            statusText.classList.add('blink');
            
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]); // æˆåŠŸéœ‡å‹•æ¨¡å¼

            instruction.innerText = "å³å°‡é€²å…¥é¹¿ QA ç¶²ç«™...";
            instruction.style.opacity = '1';
            instruction.style.color = "#10b981";

            setTimeout(() => {
                goToNewSite();
            }, 1000);
        }

        // ç¶å®šäº‹ä»¶ (æ”¯æ´æ»‘é¼ èˆ‡è§¸æ§)
        scanner.addEventListener('mousedown', startScan);
        scanner.addEventListener('touchstart', startScan);

        window.addEventListener('mouseup', stopScan);
        window.addEventListener('touchend', stopScan);

        // --- æ ¸å¿ƒè½‰å€ ---
        function goToNewSite() {
            document.body.style.transition = "opacity 0.8s";
            document.body.style.opacity = "0";
            setTimeout(() => {
                window.location.replace(NEW_URL);
            }, 800);
        }

        // --- èƒŒæ™¯ç²’å­ç‰¹æ•ˆ (ç°¡åŒ–ç‰ˆ) ---
        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        let particles = [];
        
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0;
                if (this.y < 0) this.y = canvas.height;
            }
            draw() {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            for (let i = 0; i < 60; i++) particles.push(new Particle());
        }
        initParticles();

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
            requestAnimationFrame(animate);
        }
        animate();

        // é˜²å›é ­
        window.history.pushState(null, "", window.location.href);
        window.onpopstate = function() {
            window.history.pushState(null, "", window.location.href);
            goToNewSite();
        };
    </script>
</body>
</html>
