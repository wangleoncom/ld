<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>é¹¿ğŸ¦Œçš„QAç¶²ç«™</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="top-banner">
    <span>ğŸ“¢ æ­¡è¿ä¾†åˆ°é¹¿ğŸ¦Œçš„å°ˆæ¥­ç³»çµ±ã€‚ç›®å‰æ¯é é¡¯ç¤º 30 ç­† QAã€‚</span>
    <button onclick="this.parentElement.remove()" style="background:none; border:none; color:white; cursor:pointer;">âŒ</button>
  </div>

  <header class="hero">
    <div class="tabs-container">
      <nav class="tabs">
        <button class="tab active" onclick="switchView('qa')">çŸ¥è­˜ QA</button>
        <button class="tab" onclick="switchView('video')">å½±éŸ³ä¸­å¿ƒ</button>
        <button class="tab" onclick="switchView('effect')">TikTok ç‰¹æ•ˆ</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="qa-panel" class="view-section">
      <div id="qa-list" class="accordion"></div>
      <div class="pager">
        <button id="prev-page" class="page-btn">ä¸Šä¸€é </button>
        <span id="page-info">ç¬¬ 1 / 1 é </span>
        <button id="next-page" class="page-btn">ä¸‹ä¸€é </button>
      </div>
    </section>

    <section id="video-panel" class="view-section hidden">
      <div class="video-container">
        <div id="v-frame" class="video-frame">
          <p style="text-align:center; margin-top:20%;">è«‹å¾æ¸…å–®é¸æ“‡å½±ç‰‡...</p>
        </div>
      </div>
    </section>

    <section id="effect-panel" class="view-section hidden">
      <div style="text-align:center;">
        <img src="é¹¿ğŸ¦Œè¶…å¥½ç¬‘ç‰¹æ•ˆ.png" style="max-width:300px; border-radius:20px;">
        <br><br>
        <button class="page-btn" onclick="window.open('https://vm.tiktok.com/ZMAXNfQ4v/')">ç«‹å³é–‹å•Ÿ TikTok</button>
      </div>
    </section>
  </main>

  <script src="data.js"></script> <script>
    // é…ç½®
    const PAGE_SIZE = 30;
    let currentPage = 1;
    let allQA = []; // å‡è¨­è³‡æ–™åœ¨ data.js çš„è®Šæ•¸ä¸­

    // è¦–åœ–åˆ‡æ›
    function switchView(view) {
      document.querySelectorAll('.view-section').forEach(s => s.classList.add('hidden'));
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.getElementById(view + '-panel').classList.remove('hidden');
      event.target.classList.add('active');
    }

    // QA æ¸²æŸ“é‚è¼¯
    function renderQA() {
      const list = document.getElementById('qa-list');
      list.innerHTML = '';
      
      const start = (currentPage - 1) * PAGE_SIZE;
      const end = start + PAGE_SIZE;
      const pageItems = DEER_QA_DATA.slice(start, end); // å‡è¨­ DEER_QA_DATA ä¾†è‡ª deer-qa.js

      pageItems.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.style.animationDelay = `${index * 0.05}s`; // æ¼‚äº®çš„æ‰‹é¢¨ç´é€²å ´å‹•ç•«
        div.innerHTML = `
          <div class="q" onclick="this.parentElement.classList.toggle('open')">${item.q}</div>
          <div class="a"><div class="a-inner">${item.a}</div></div>
        `;
        list.appendChild(div);
      });

      // æ›´æ–°åˆ†é è³‡è¨Š
      const totalPages = Math.ceil(DEER_QA_DATA.length / PAGE_SIZE);
      document.getElementById('page-info').textContent = `ç¬¬ ${currentPage} / ${totalPages} é `;
      document.getElementById('prev-page').disabled = currentPage === 1;
      document.getElementById('next-page').disabled = currentPage === totalPages;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // åˆ†é äº‹ä»¶
    document.getElementById('prev-page').onclick = () => { if(currentPage > 1) { currentPage--; renderQA(); } };
    document.getElementById('next-page').onclick = () => { currentPage++; renderQA(); };

    // å½±ç‰‡è¼‰å…¥ä¿®å¾© (ä¿®æ­£ 404 èˆ‡ç„¡æ³•è¼‰å…¥)
    function loadVideo(url) {
      const frame = document.getElementById('v-frame');
      // æª¢æŸ¥æ˜¯å¦ç‚º YouTube ä¸¦è½‰æ›ç‚º embed é€£çµ
      let embedUrl = url;
      if (url.includes('youtube.com/watch?v=')) {
        embedUrl = url.replace('watch?v=', 'embed/');
      }
      frame.innerHTML = `<iframe src="${embedUrl}" allowfullscreen></iframe>`;
    }

    // åˆå§‹åŒ–
    window.onload = () => {
      if (typeof DEER_QA_DATA !== 'undefined') {
        renderQA();
      } else {
        document.getElementById('qa-list').innerHTML = '<p class="text-muted">éŒ¯èª¤ï¼šæ‰¾ä¸åˆ° DEER_QA_DATAï¼Œè«‹æª¢æŸ¥ deer-qa.js è·¯å¾‘ã€‚</p>';
      }
    };
  </script>
</body>
</html>
